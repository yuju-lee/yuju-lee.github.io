<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <title>Kubernetes에 대해 알아보기</title>
    <meta name="description"
        content="쿠버네티스란?">
    <link rel="canonical" href="https://yuju-lee.github.io/knowledge/kubernetes/">
    

    <!-- Site Favicon -->
    <link rel="shortcut icon" href="https://yuju-lee.github.io/assets/images/favicon.ico" type="image/png" />


    <!-- CSS Styles -->
    <link href="/assets/css/style.css" rel="stylesheet">
</head>



<body class="layout-post">
    <div id="page" class="site">
        <header class="site-header">
    <div class="inner">
        <div class="site-branding">
            
                <h1 class="site-title"><a href="/" rel="home">Judy's Devlog</a></h1>
                <p class="site-description">Cool developers never die</p>
            
        </div><!-- .site-branding -->
        <button id="show-sidebar" class="toggle-sidebar">
            <span class="screen-reader-text">Discover More</span>
            <span aria-hidden="true" class="icon-plus"></span>
        </button>
    </div><!-- .inner -->
    <!-- Highlight.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/atom-one-dark.min.css">
</header><!-- .site-header -->
        <div id="content" class="site-content">
    <main id="main" class="site-main inner">
        <article class="post">
            
                <div class="post-thumbnail"><img src="https://velog.velcdn.com/images/holicme7/post/19ba7f9f-2eb4-48c3-89aa-b4e3687e2a82/image.png" alt="Kubernetes에 대해 알아보기"></div>
            
            <header class="entry-header">
                <h1 class="entry-title">Kubernetes에 대해 알아보기</h1>
                <div class="entry-meta">
                    
                    
                    <span class="post-author"><a href="https://yuju-lee.github.io/author/judy">judy</a></span>
                    
                    
                    <span class="post-categories">
                        
                        <a href="https://yuju-lee.github.io/categories/knowledge">Knowledge</a>
                        
                    </span>
                    <span class="post-date">
                        <time class="published" datetime="2024-08-02">August 2, 2024</time>
                    </span>
                </div><!-- .entry-meta -->
            </header><!-- .entry-header -->
            <div class="entry-content">
                <h2 id="쿠버네티스란">쿠버네티스란?</h2>

<p>‘k8s’ 또는 ‘kube’라고도 하는 Kubernetes는 컨테이너화된 애플리케이션의 배포, 관리 및 확장을 예약하고 자동화하기 위한 컨테이너 오케스트레이션 플랫폼이다.</p>

<h2 id="컨테이너란">컨테이너란?</h2>
<p>컨테이너는 애플리케이션 소스 코드와 모든 환경에서 코드를 실행하는 데 필요한 모든 운영 체제(OS) 라이브러리 및 종속성을 결합하는 경량의 실행 가능한 애플리케이션 구성 요소이다.</p>

<p>컨테이너는 프로세스를 격리하고 해당 프로세스가 액세스할 수 있는 CPU, 메모리, 디스크의 양을 제어하여 여러 애플리케이션이 단일 OS 인스턴스를 공유할 수 있도록 하는 운영 체제(OS) 가상화의 한 형태를 활용하는데, 컨테이너는 가상 머신(VM)보다 더 작고 리소스 측면에서 효율적이며 휴대성이 뛰어나기 때문에 최신 클라우드 네이티브 애플리케이션의 사실상의 컴퓨팅 단위로 자리 잡았다고 할 수 있다. (도커의 컨테이너 개념과 비슷하다!)</p>

<hr />

<h1 id="kubernetes를-사용한-컨테이너-오케스트레이션">Kubernetes를 사용한 컨테이너 오케스트레이션</h1>

<p>컨테이너가 확산됨에 따라(오늘날에는 한 조직에 수백, 수천 개의 컨테이너가 있을 수 있음) 운영팀은 컨테이너 배포, 네트워킹, 확장성, 가용성을 예약하고 자동화해야 했고 그렇게 컨테이너 오케스트레이션 시장이 탄생했다.</p>

<p>다른 컨테이너 오케스트레이션 옵션, 특히 Docker Swarm과 Apache Mesos가 초기에 어느 정도 주목을 받았지만, Kubernetes는 빠르게 가장 널리 채택되었다(실제로 한 때는 오픈 소스 소프트웨어 역사상 가장 빠르게 성장하는 프로젝트이기도 했고요).</p>

<p>개발자들은 Kubernetes의 광범위한 기능, 방대하고 성장하는 오픈 소스 지원 툴 에코시스템, 클라우드 서비스 제공업체 전반에 걸친 지원 및 이동성 때문에 Kubernetes를 선택한다.</p>

<h2 id="그럼-kubernetes는-어떤-기능을-할까">그럼 Kubernetes는 어떤 기능을 할까?</h2>
<p>Kubernetes는 다음을 포함하여 <strong>애플리케이션 라이프 사이클 전반에 걸쳐 컨테이너 관련 작업을 예약하고 자동화</strong>한다.</p>

<ul>
  <li>배포: 지정된 수의 컨테이너를 지정된 호스트에 배포하고 원하는 상태로 계속 실행함</li>
  <li>롤아웃: 배포를 변경하는 것이며, Kubernetes를 사용하면 롤아웃을 시작, 일시 중지, 재개 또는 롤백할 수 있음</li>
  <li>서비스 검색: Kubernetes는 DNS 이름 또는 IP 주소를 사용하여 컨테이너를 인터넷이나 다른 컨테이너에 자동으로 노출 가능함</li>
  <li>스토리지 프로비저닝: 필요에 따라 컨테이너에 대한 영구 로컬 또는 클라우드 스토리지를 마운트하도록 Kubernetes를 설정함</li>
  <li>로드 밸런싱: Kubernetes 로드 밸런싱은 CPU 사용률 또는 사용자 지정 메트릭을 기반으로 네트워크 전체에 워크로드를 분산하여 성능과 안정성 유지</li>
  <li>오토 스케일링: 트래픽이 급증하면 Kubernetes 자동 확장은 필요에 따라 새 클러스터를 스핀 업하여 추가 워크로드 처리</li>
  <li>고가용성을 위한 자가 치료: 컨테이너에 장애가 발생하면 Kubernetes는 자동으로 컨테이너를 재시작하거나 교체하여 중단 시간을 방지하며, 또한 상태 확인 요구 사항을 충족하지 않는 컨테이너를 삭제할 수 있음</li>
</ul>

<h2 id="쿠버네티스의-특징">쿠버네티스의 특징</h2>

<h3 id="1-다양한-배포-방식">1. 다양한 배포 방식</h3>
<p><img src="https://velog.velcdn.com/images/holicme7/post/c3737747-b4af-4d22-b5aa-5dc43f3b9ecb/image.png" alt="" /></p>
<ul>
  <li>Deployment, StatefulSets, DaemonSet, Job, CronJob 등 다양한 배포 방식을 지원</li>
  <li>여러대의 애플리케이션을 띄우고 싶을 경우에는 Deployment 이용</li>
  <li>로그나 모니터링 등 모든 서버에 설치가 필요한 경우엔 DaemonSet을 이용</li>
  <li>배치성 작업은 Job이나 CronJob을 이용</li>
</ul>

<h3 id="2-namespace--label">2. Namespace &amp; Label</h3>
<p><img src="https://velog.velcdn.com/images/holicme7/post/890af825-10ee-4e77-b71c-dcc5dc55c83a/image.png" alt="" /></p>
<ul>
  <li>네임스페이스(Namespace) 기능으로 하나의 클러스터를 논리적으로 구분하여 사용 가능</li>
  <li>라벨(label) 기능으로 유연하면서 확장성 있게 리소스를 관리</li>
</ul>

<h3 id="3-rbac-role-based-access-control">3. RBAC (role-based access control)</h3>
<p><img src="https://velog.velcdn.com/images/holicme7/post/e3f80335-fb23-47e3-8934-7cdd034ea746/image.png" alt="" /></p>
<ul>
  <li>역할 기반 액세스 제어</li>
  <li>누가(주체), 무엇을(동사), 어디에(네임스페이스) 실행할 수 있는지 결정하는 권한 또는 템플릿 집합을 수반하는 Identity 및 액세스 관리 형식</li>
  <li>각각의 리소스에 대해 유저별로 CRUD스러운 권한을 손쉽게 지정</li>
  <li>클러스터 전체에 적용하거나 특정 네임스페이스에 적용</li>
  <li>AWS의 경우 IAM을 연동해서 사용 가능</li>
</ul>

<h3 id="4-auto-scaling">4. Auto Scaling</h3>
<ul>
  <li>손쉽게 리소스 확장 가능</li>
  <li>Horizontal Pod Autoscaling(HPA) : CPU, MEM 사용량에 따라 Pod 수평 확장 기능</li>
  <li>Vertical Pod Autoscaling(VPA) : Pod 리소스 할당량 조정 (CPU, memory..)</li>
  <li>Cluster Autoscaling(CA) : 노드(서버) 개수 조정 가능 (클라우드 환경에서만)</li>
  <li>이 외에도 KEDA 라는 오픈소스를 활용하여 HTTP 요청량이나 이벤트 수에 따라 Pod를 스케일링할 수 있음</li>
</ul>

<h3 id="5-federation-multi-cluster">5. Federation, Multi Cluster</h3>
<p>클라우드에 설치한 쿠버네티스 클러스터와 자체 서버에 설치한 쿠버네티스를 묶어서 하나로 사용 가능
구글의 Anthos를 이용하면 한 곳에서 여러 클라우드의 쿠버네티스 클러스터들을 관리 가능</p>

<h2 id="쿠버네티스-기본-개념과-구성-요소">쿠버네티스 기본 개념과 구성 요소</h2>

<h3 id="마스터---노드-구조">마스터 - 노드 구조</h3>
<p><img src="https://velog.velcdn.com/images/holicme7/post/843b1f0b-f4f8-476b-b80b-50587c6f5f22/image.png" alt="" /></p>
<ul>
  <li>중앙(Master)에 API 서버와 상태 저장소를 두고 각 서버(Node) 의 에이전트(kubelet)과 통신하는 단순한 구조</li>
  <li>모든 명령은 마스터의 API 서버를 호출하고, 노드는 마스터와 통신하면서 필요한 작업 수행</li>
  <li>Kubectl 이라는 Client 도구로 API 서버 접근 가능</li>
</ul>

<h3 id="desired-state">Desired State</h3>
<p><img src="https://velog.velcdn.com/images/holicme7/post/03c3be54-9d7a-4550-92be-c344657b4483/image.png" alt="" /></p>
<ul>
  <li>관리자가 서버를 배포할 때 직접적인 동작을 명령하지 않고 원하는 상태를 선언하는 방식을 사용 (RUN x, Create o)
    <ul>
      <li>A 컨테이너를 실행해 줘. 그리고 80 포트로 오픈해 줘. -&gt; 현재 상태를 원하는 상태로 바꾸기 위한 명령(imperative)</li>
      <li>80 포트를 오픈한 A 컨테이너를 1개 유지해 줘. -&gt; 원하는 상태를 선언(declarative)</li>
    </ul>
  </li>
  <li>Desired State (원하는 상태)
    <ul>
      <li>관리자가 바라는 환경 (구체적으로 웹서버 몇개 띄울건지, 몇번 포트로 띄울건지)</li>
      <li>현재 상태(current state) 를 모니터링하면서 관리자가 설정한 원하는 상태(desired state)를 유지하는 방향으로 동작</li>
    </ul>
  </li>
  <li>쿠버네티스의 핵심은 상태이며 쿠버네티스를 사용하려면 어떤 상태가 있고 어떻게 상태를 선언하는지를 알아야 함</li>
</ul>

<h3 id="kubernetes-object">Kubernetes Object</h3>

<ul>
  <li>
    <p><strong>POD</strong></p>

    <p><img src="https://velog.velcdn.com/images/holicme7/post/85c6c7ab-7d2d-434e-9e93-ddf281e5ac8d/image.png" alt="" /></p>
    <ul>
      <li>쿠버네티스에서 배포할 수 있는 가장 작은 단위</li>
      <li>한 개 이상의 컨테이너와 스토리지, 네트워크 속성 가짐</li>
      <li>컨테이너를 하나만 사용하는 경우도 반드시 Pod으로 감싸서 관리</li>
    </ul>
  </li>
  <li>
    <p><strong>Replicaset &amp; Deployment</strong></p>

    <p><img src="https://velog.velcdn.com/images/holicme7/post/d8f2ad0e-0e6e-46b9-9e6b-38dab0822fd7/image.png" alt="" /></p>
    <ul>
      <li>Pod을 여러 개(한 개 이상) 복제하여 관리하는 오브젝트</li>
      <li>복제할 개수, 개수를 체크할 라벨 선택자, 생성할 Pod의 설정값(템플릿)등 설정</li>
      <li>자동으로 롤링 업데이트 가능</li>
    </ul>
  </li>
  <li>
    <p><strong>Service</strong></p>
    <ul>
      <li>네트워크 관련 Object</li>
      <li>Pod &lt;-&gt; Pod 연결, 외부에서 접근할때 등등 사용</li>
    </ul>
  </li>
</ul>

<h3 id="kubernetes-object-spec-기술---manifest-파일">Kubernetes Object Spec 기술 - Manifest 파일</h3>

<ul>
  <li>오브젝트의 명세Spec, 상태desired state 정의는 YAML 파일로 정의</li>
  <li>오브젝트의 종류와 원하는 상태를 입력</li>
  <li>배포 노드나 RBAC(접근 권한 설정) 도 가능</li>
</ul>

<h3 id="kubernetes-배포-방식">Kubernetes 배포 방식</h3>

<ul>
  <li>애플리케이션을 배포하기 위해 오브젝트(object)에 라벨Label 을 붙여 원하는 상태(desired state) 로 정의(yaml)하고 API 서버에 전달하는 방식을 사용</li>
  <li>yaml 파일을 만들어서, 쿠버네티스 API 서버에 전달하면 됨</li>
</ul>

<hr />
<h3 id="ref">Ref.</h3>
<ul>
  <li><a href="https://www.ibm.com/kr-ko/topics/kubernetes">Kubernetes</a></li>
  <li><a href="https://velog.io/@holicme7/K8s-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80">쿠버네티스란 무엇인가?</a></li>
</ul>

            </div>
            <footer class="entry-footer">
                
                <p class="post-tags">
                     
                    <a href="https://yuju-lee.github.io/tag/kubernetes">Kubernetes</a>
                    
                </p>
                
            </footer>
            
            
            <div class="author-box">
                <div class="author-info">
                    
                    <div class="avatar-container">
                        <img class="author-profile-image" src="https://yuju-lee.github.io/assets/images/judy.jpg" alt="judy" class="avatar" />
                    </div>
                    
                    <div class="author-details">
                        <h2 class="author-title">About <a href="https://yuju-lee.github.io/author/judy">judy</a></h2>
                        
                        <p class="author-description">junior BE</p>
                        
                        <div class="author-links">
                            
                            <a href="https://www.linkedin.com/in/yuju-lee" target="_blank" rel="noopener">
                                <i class="fa-globe" aria-hidden="true"></i>
                                <span class="screen-reader-text">Website</span>
                            </a>
                            
                            
                            
                        </div>
                    </div>
                </div><!-- .author-info -->
            </div><!-- .author-box -->
            
            
        </article>
        
            <div class="subscribe-box">
</div><!-- .widget -->
        
        <nav class="navigation post-navigation">
            <h2 class="screen-reader-text">Post navigation</h2>
            <div class="nav-links">
            
            <div class="nav-previous">
                <a href="https://yuju-lee.github.io/knowledge/functionalProgramming/" class="nav-inside">
                    <span class="nav-before">Previous post</span>
                    <span class="nav-title">함수형 프로그래밍</span>
                    <span class="nav-meta">August 2, 2024</span>
                    
                        <span class="nav-thumb" style="background-image: url(https://miro.medium.com/v2/resize:fit:2000/1*zSIKvunxJS2ox4LMWMMoFA.jpeg)"></span>
                    
                </a>
            </div>
            
            
            <div class="nav-next">
                <a href="https://yuju-lee.github.io/logs/MSA-18-projreview/" class="nav-inside">
                    <span class="nav-before">Next post</span>
                    <span class="nav-title">MSA-18. 프로젝트 회고</span>
                    <span class="nav-meta">August 3, 2024</span>
                    
                    
                </a>
            </div>
            
            </div><!-- .nav-links -->
        </nav><!-- .post-navigation -->
        
<div class="comments-area">
    <div class="comments-inside">
        <h2 class="comments-title">Comments</h2>
        <div id="disqus_thread"></div>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
                Disqus</a>.</noscript>
    </div><!-- .comments-inside -->
</div><!-- .comments-area -->
    <script type="text/javascript">
        var disqus_shortname = 'devlog-qiqv3mtjda';
        var disqus_developer = 0;
        (function () {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </main><!-- .site-main -->
</div><!-- .site-content -->

        

        <aside id="sidebar" class="sidebar">
	<div class="sidebar-inside">
		<button id="hide-sidebar" class="toggle-sidebar"><span class="screen-reader-text">Close</span><span aria-hidden="true"
			 class="icon-plus"></span></button>
			<nav id="sidebar-navigation" class="widget site-navigation">
				<h2 class="widget-title">Category</h2>
				<ul class="menu">
					
						<li class="menu-item"><a href="/about/">About me</a></li>
					
						<li class="menu-item"><a href="/categories/algorithm/">Algorithm</a></li>
					
						<li class="menu-item"><a href="/categories/knowledge/">Knowledge</a></li>
					
						<li class="menu-item"><a href="/categories/logs/">Logs</a></li>
					
				</ul>
			</nav>
			<!-- Create a sorted array of tags -->
 
<section class="widget widget-tagcloud">
    <h2 class="widget-title">Tags</h2>
    <div class="tagcloud">
        
        <a href='/tag/api-gateway/'>API-Gateway</a>
        
        <a href='/tag/algorithm/'>Algorithm</a>
        
        <a href='/tag/auth/'>Auth</a>
        
        <a href='/tag/bfs/'>BFS</a>
        
        <a href='/tag/binary-search/'>Binary-search</a>
        
        <a href='/tag/binary-tree/'>Binary-tree</a>
        
        <a href='/tag/brute-force/'>Brute-force</a>
        
        <a href='/tag/dfs/'>DFS</a>
        
        <a href='/tag/dp/'>DP</a>
        
        <a href='/tag/dijkstra/'>Dijkstra</a>
        
        <a href='/tag/distributed-lock/'>Distributed-Lock</a>
        
        <a href='/tag/distributed-lock/'>Distributed-lock</a>
        
        <a href='/tag/docker/'>Docker</a>
        
        <a href='/tag/erd/'>ERD</a>
        
        <a href='/tag/encryption/'>Encryption</a>
        
        <a href='/tag/feign-client/'>Feign-Client</a>
        
        <a href='/tag/greedy/'>Greedy</a>
        
        <a href='/tag/hash-table/'>Hash-table</a>
        
        <a href='/tag/java/'>JAVA</a>
        
        <a href='/tag/java-springboot/'>JAVA-Springboot</a>
        
        <a href='/tag/jwt/'>JWT</a>
        
        <a href='/tag/kmp/'>KMP</a>
        
        <a href='/tag/kafka/'>Kafka</a>
        
        <a href='/tag/kubernetes/'>Kubernetes</a>
        
        <a href='/tag/luascript/'>LuaScript</a>
        
        <a href='/tag/msa/'>MSA</a>
        
        <a href='/tag/queue/'>Queue</a>
        
        <a href='/tag/redis/'>Redis</a>
        
        <a href='/tag/sort/'>Sort</a>
        
        <a href='/tag/stack/'>Stack</a>
        
        <a href='/tag/taskscheduler/'>TaskScheduler</a>
        
        <a href='/tag/test-tool/'>Test-tool</a>
        
        <a href='/tag/time-complexity/'>Time-Complexity</a>
        
        <a href='/tag/transaction/'>Transaction</a>
        
        <a href='/tag/union-find/'>Union-find</a>
        
        <a href='/tag/cookie/'>cookie</a>
        
        <a href='/tag/funtional-programming/'>funtional-programming</a>
        
        <a href='/tag/googlesmtp/'>googleSMTP</a>
        
        <a href='/tag/http/'>http</a>
        
        <a href='/tag/kubernetes/'>kubernetes</a>
        
        <a href='/tag/mail-service/'>mail-service</a>
        
        <a href='/tag/process/'>process</a>
        
        <a href='/tag/protocol/'>protocol</a>
        
        <a href='/tag/session/'>session</a>
        
        <a href='/tag/thread/'>thread</a>
        
    </div>
</section>
	</div><!-- .sidebar-inside -->
</aside><!-- .sidebar -->
        <footer id="colophon" class="site-footer outer">
    <div class="inner">
        <div class="footer-bottom">
            <p class="social-links">
    
    
    
    <a href="https://github.com/yuju-lee" target="_blank">
        <span class="fa-github fa" aria-hidden="true"></span>
        <span class="screen-reader-text">GitHub</span>
    </a>
    
    
    
    
    
    
    
    <a href="https://www.linkedin.com/in/yuju-lee" target="_blank">
        <span class="fa-linkedin fa" aria-hidden="true"></span>
        <span class="screen-reader-text">Linkedin</span>
    </a>
    
</p>
            <p class="site-info">
                <a href="#">Judy's Devlog</a> &copy; 2024 
            </p>
            <a href="#page" id="top-link" class="top-link"><i class="fa-arrow-left-custom" aria-hidden="true"></i> <span class="top-link-text">Up</span></a>
        </div><!-- .footer-bottom -->
    </div><!-- .inner -->
</footer><!-- .site-footer -->

    </div><!-- .site -->
    <div id="site-overlay" class="site-overlay"></div>

    
  <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '', { 'anonymize_ip': true });
  </script>

    <!-- Javascript Assets -->
    <script src="/assets/js/jquery-3.4.1.min.js"></script>
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/custom.js"></script>
    <!-- Highlight.js JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</body>

</html>