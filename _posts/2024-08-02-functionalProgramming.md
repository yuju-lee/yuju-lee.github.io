---
layout: post
title: "함수형 프로그래밍"
date: 2024-08-02
categories: [Knowledge]
tags: [funtional-programming]
author: judy
featured_image: https://miro.medium.com/v2/resize:fit:2000/1*zSIKvunxJS2ox4LMWMMoFA.jpeg
---

## 함수형 프로그래밍(Functional Programming)이란?

기존의 명령형 프로그래밍을 기반으로 개발했던 개발자들은 개발하는 소프트웨어의 크기가 커짐에 따라, 복잡하게 엉켜있는 스파게티 코드를 유지보수하는 것이 매우 힘들다는 것을 깨닫게 되었다. 그리고 이를 해결하기 위해 **함수형 프로그래밍이라는 프로그래밍 패러다임**에 관심을 갖게 되었다. 

**함수형 프로그래밍은 거의 모든 것을 순수 함수로 나누어 문제를 해결하는 기법**으로, 작은 문제를 해결하기 위한 함수를 작성하여 가독성을 높이고 유지보수를 용이하게 해준다.

> Functional Programming is programming without assignment satements <br>- Rober C.Martin -

유명한 책인 클린 코드(Clean Code)의 저자 Robert C.Martin은 함수형 프로그래밍을 대입문이 없는 프로그래밍이라고 정의하였다.

## 함수형 프로그래밍(Functional Programming)에 대한 이해

함수형 프로그래밍은 **대입문을 사용하지 않는 프로그래밍**이며, 작은 문제를 해결하기 위한 함수를 작성한다고 한다. 함수형 프로그래밍은 무엇을(What)에 포커스를 두는 프로그래밍이며, 그렇기 때문에 함수형 프로그래밍에서는 '출력을 하는 함수'를 파라미터로 넘길 수 있다. 이는 함수형 프로그래밍의 기본 원리 中 함수를 1급 시민(First-Class Citizen) 또는 1급 객체(First-Class Object)로 관리하는 특징이다.

명령형 프로그래밍에서는 메소드를 호출하면 상황에 따라 내부의 값이 바뀔 수 있다. 즉, 우리가 개발한 함수 내에서 선언된 변수의 메모리에 할당된 값이 바뀌는 등의 변화가 발생할 수 있다. **하지만 함수형 프로그래밍에서는 대입문이 없기 때문에 메모리에 한 번 할당된 값은 새로운 값으로 변할 수 없다.**

> 부수 효과가 없는 순수 함수를 1급 객체로 간주하여 파라미터나 반환값으로 사용할 수 있으며, **참조 투명성을 지킬 수 있다.**


함수형 프로그래밍의 특징을 한 줄로 요약하면 위와 같다. 여기서 키워드는 **"부수 효과", "순수 함수", "1급 객체", "참조 투명성"** 인데, 각각에 대해 자세히 살펴보도록 하자.

### 부수효과(Side Effect)
부수효과(Side Effect)란 다음과 같은 변화 또는 변화가 발생하는 작업을 의미한다.

- 변수의 값이 변경됨
- 자료 구조를 제자리에서 수정함
- 객체의 필드값을 설정함
- 예외나 오류가 발생하며 실행이 중단됨
- 콘솔 또는 파일 I/O가 발생함

### 순수 함수(Pure Function)
부수 효과(Side Effect)들을 제거한 함수들을 순수 함수(Pure Function)이라고 부르며, 함수형 프로그래밍에서 사용하는 함수는 이러한 순수 함수들이다.

- Memory or I/O의 관점에서 Side Effect가 없는 함수
- 함수의 실행이 외부에 영향을 끼치지 않는 함수

### 순수 함수(Pure Function)의 장점
순수 함수(Pure Function)을 이용하면 얻을 수 있는 효과는 다음과 같다.

- 함수 자체가 독립적이며 Side-Effect가 없기 때문에 Thread에 안전성을 보장받을 수 있음
- Thread에 안정성을 보장받아 병렬 처리를 동기화 없이 진행할 수 있음

### 1급 객체(First-Class Object)
1급 객체란 다음과 같은 것들이 가능한 객체를 의미한다.

- 변수나 데이터 구조 안에 담을 수 있음
- 파라미터로 전달할 수 있음
- 반환값으로 사용할 수 있음
- 할당에 사용된 이름과 무관, 고유하게 구별 가능

### 참조 투명성(Referential Transparency)

- 동일한 인자에 대해 항상 동일한 결과를 반환해야 함
- 참조 투명성을 통해 기존의 값은 변경되지 않고 유지 (Immutable Data)

--

명령형 프로그래밍과 함수형 프로그래밍에서 사용하는 함수는 **부수효과의 유/무에 따라 차이가 있다.** 그에 따라 함수가 참조에 투명한지 안 한지 나뉘어 지는데, 참조에 투명하다는 것은 말 그대로 함수를 실행하여도 어떠한 상태의 변화 없이 항상 동일한 결과를 반환하여 항상 동일하게(투명하게) 실행 결과를 참조(예측)할 수 있다는 것을 의미한다.

즉, 어떤 함수 f에 어떠한 인자 x를 넣고 f를 실행하게 되면, f는 입력된 인자에만 의존하므로 항상 f(x)라는 동일한 결과를 얻는다는 것을 의미한다. **부작용을 제거하여 프로그램의 동작을 이해하고 예측을 용이하게 하는 것은 함수형 프로그래밍으로 개발하려는 핵심 동기 중 하나**이다. 그리고 이러한 부분인 병렬 처리 환경에서 개발할 때 Race Condition에 대한 비용을 줄여 준다. 왜냐, 함수형 프로그래밍에서는 값의 대입이 없이 항상 동일한 실행에 대해 동일한 결과를 반환하기 때문에.

 